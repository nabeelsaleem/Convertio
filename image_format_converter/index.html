<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Primary Meta Tags -->
<meta name="title" content="Free Image Format Converter - Convert Images Online No Upload | SimpliConvert">
<meta name="description" content="Free image format converter that works 100% offline. Convert JPG, PNG, WebP, GIF, BMP, TIFF, SVG, AVIF, HEIC, and ICO instantly with no uploads. Fast, private, and open-source.">
<meta name="keywords" content="image format converter, convert image online no upload, offline image converter, no upload image converter, convert jpg to png, convert png to jpg, convert webp to jpg, convert gif to png, jpg, png, webp, gif, bmp, tiff, svg, avif, heic, ico, privacy friendly image converter">
<meta name="author" content="SimpliConvert">
<meta name="robots" content="index, follow">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://simpliconvert.com/image_format_converter">
<meta property="og:title" content="Free Image Format Converter - Convert Images Online No Upload | SimpliConvert">
<meta property="og:description" content="Convert images instantly without uploading. Supports JPG, PNG, WebP, GIF, BMP, TIFF, SVG, AVIF, HEIC, and ICO formats. 100% free, offline, and secure.">
<meta property="og:image" content="https://simpliconvert.com/images/image-converter-og.jpg">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://simpliconvert.com/image_format_converter">
<meta property="twitter:title" content="Free Image Format Converter - Convert Images Online No Upload | SimpliConvert">
<meta property="twitter:description" content="Convert JPG, PNG, WebP, GIF, BMP, TIFF, SVG, AVIF, HEIC, and ICO instantly without uploading. Works offline for complete privacy.">
<meta property="twitter:image" content="https://simpliconvert.com/images/image-converter-og.jpg">

<!-- Canonical URL -->
<link rel="canonical" href="https://simpliconvert.com/image_format_converter">
<title>Free Image Format Converter - Convert Images Online No Upload | SimpliConvert</title>

<!-- Schema.org Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Free Image Format Converter",
  "operatingSystem": "Any",
  "applicationCategory": "MultimediaApplication",
  "description": "SimpliConvert lets you convert images instantly between formats like JPG, PNG, WebP, GIF, BMP, TIFF, SVG, AVIF, HEIC, and ICO. Works offline with no uploads for complete privacy.",
  "url": "https://simpliconvert.com/image_format_converter",
  "publisher": {
    "@type": "Organization",
    "name": "SimpliConvert",
    "url": "https://simpliconvert.com"
  },
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  }
}
</script>




<link rel="icon" href="favicon.ico" type="image/x-icon">



    
    <!-- Preconnect to required origins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Preload critical resources -->
    <link rel="preload" href="https://cdn.tailwindcss.com" as="script">
    
    <!-- Asynchronously load fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"></noscript>

    
    <!-- Tailwind CSS -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#da3f0b',
                        primaryLight: '#f57648',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <!-- Custom CSS -->
   <style>
    body {
        font-family: 'Inter', sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Header Scroll Effect */
    .scrolled-effect {
        background-color: rgba(255, 255, 255, 0.8) !important;
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1) !important;
        backdrop-filter: blur(8px);
    }

    /* Mega Menu */
    #mega-menu {
        opacity: 0;
        visibility: hidden;
        transform: translateY(-1rem);
        transition: all 0.3s ease-in-out;
        pointer-events: none;
        right: 0;
        left: auto;
        transform-origin: top right;
        min-width: 800px;
        width: auto;
        position: absolute;
        top: 100%;
        z-index: 1000;
    }
    #mega-menu-trigger:hover > #mega-menu,
    #mega-menu:hover {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
        pointer-events: auto;
    }
    #mega-menu-trigger {
        position: relative;
    }
    
    /* Mobile Menu */
    #mobile-menu {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-in-out;
    }
    #mobile-menu.open {
        max-height: 80vh;
        box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    }

    /* Mobile Accordion */
    .accordion-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-in-out;
    }
    .accordion-content.open {
        max-height: 500px;
    }
    .accordion-button.open svg {
        transform: rotate(180deg);
    }

    /* Navigation Dropdown */
    .nav-dropdown {
        opacity: 0;
        visibility: hidden;
        transform: translateY(15px);
        transition: all 0.3s ease;
    }
    .nav-item:hover .nav-dropdown {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    /* Tool Card */
    .tool-card {
        transition: all 0.3s ease;
        height: 100%;
    }
    .tool-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }

    /* Feature Card */
    .feature-card:hover .feature-icon {
        background-color: rgba(218, 63, 11, 0.1);
    }

    /* Footer Link */
    .footer-link:hover {
        background-color: rgba(255,255,255,0.1);
    }

    /* Mobile Menu (alt) - Keeping both as they might be used differently */
    .mobile-menu {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out;
    }
    .mobile-menu.open {
        max-height: 1000px;
    }

    /* Hero Gradient */
    .hero-gradient {
        background: linear-gradient(135deg, #da3f0b 0%, #f57648 100%);
    }

    /* Buttons */
    .btn-primary {
        background-color: #da3f0b;
        transition: all 0.3s ease;
    }
    .btn-primary:hover {
        background-color: #c2380a;
        transform: translateY(-2px);
    }
    .btn-outline {
        border: 2px solid white;
        transition: all 0.3s ease;
    }
    .btn-outline:hover {
        background-color: white;
        color: #da3f0b;
    }
</style>

</head>
<body class="bg-gray-50 min-h-screen flex flex-col">
    <!-- Main Navigation -->

    <div id="navbar"></div>

<!-- Your tool-specific content -->
  
    <!-- Hero Section -->
    <section class="hero-white text-black py-2 md:py-10">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-2">Image Format Converter</h1>
            <p class="text-lg md:text-xl max-w-3x1 mx-auto mb-2">Convert, resize, and edit images right in your browser. No uploads required.
            </p>
                  </div>
    </section>

    <!-- TOOL START -->






    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Image Processing Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
</head>
<body class="bg-gray-50">

    <div id="app-container" class="min-h-screen flex justify-center pt-8 px-4">
        <main class="w-full max-w-7xl mx-auto flex-grow flex flex-col">
            
            <div id="error-container" class="hidden bg-red-100 border-l-4 border-red-500 text-red-700 p-4 my-4 rounded-md" role="alert">
                <p class="font-bold">Error</p>
                <p id="error-message"></p>
                <button id="error-dismiss" class="mt-2 font-semibold">Dismiss</button>
            </div>

            <div id="processing-overlay" class="hidden fixed inset-0 bg-white bg-opacity-80 flex-col items-center justify-center z-50">
                <svg class="animate-spin h-16 w-16 text-[#da3f0b]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                <p class="mt-4 text-xl text-gray-700 font-medium">Processing Images...</p>
                <p class="text-gray-500">Your download will start shortly.</p>
            </div>

            <div id="dropzone-container" class="flex-grow flex items-center justify-center">
                <div class="w-full max-w-2xl">
                    <div id="dropzone" class="w-full p-10 md:p-16 border-4 border-dashed rounded-xl cursor-pointer transition-all duration-300 text-center flex flex-col items-center justify-center border-gray-300 bg-gray-50 hover:border-gray-400">
                        <input type="file" id="file-input" class="hidden" multiple accept="image/jpeg,image/png,image/webp,image/gif,image/bmp,image/tiff,image/svg+xml,image/avif" />
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-16 h-16 text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                        </svg>
                        <p id="dropzone-text" class="text-xl font-semibold text-gray-700">Drag & drop images here</p>
                        <p class="text-gray-500 mt-2">or click to select files</p>
                        <p class="text-sm text-gray-500 mt-4">All processing is done in your browser. No files are uploaded.</p>
                    </div>
                </div>
            </div>
            
            <div id="images-section" class="hidden flex-grow flex-col">
                <div id="image-grid" class="flex-grow grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-24">
                  <!-- Image editor cards will be inserted here -->
                </div>
            </div>

            <div id="footer-controls" class="hidden fixed bottom-0 left-0 right-0 mt-auto pt-6 border-t border-gray-200 flex-col sm:flex-row gap-4 justify-center bg-white/90 backdrop-blur-sm py-4 px-4 shadow-lg z-40">
                <button id="convert-button" class="w-full sm:w-auto flex-grow-0 flex items-center justify-center px-8 py-3 bg-[#da3f0b] text-white font-bold rounded-lg shadow-md hover:bg-[#c3370a] disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105">
                   Convert & Download All (<span id="image-count">0</span>)
                </button>
                <button id="clear-button" class="w-full sm:w-auto flex-grow-0 px-8 py-3 border-2 border-gray-300 text-gray-600 font-semibold rounded-lg hover:bg-gray-100 hover:border-gray-400 transition-colors">
                    Clear All
                </button>
            </div>
        </main>
    </div>

    <!-- Template for a single image editor card -->
    <template id="image-editor-template">
        <div class="image-card bg-white rounded-xl shadow-lg p-4 flex flex-col gap-4 transition-shadow hover:shadow-xl self-start">
            <div class="relative">
                <div class="w-full h-48 flex items-center justify-center bg-gray-100 rounded-md overflow-hidden">
                    <img data-preview class="max-w-full max-h-full object-contain" alt="Image preview" />
                </div>
                <button data-remove-btn class="absolute -top-2 -right-2 w-7 h-7 bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-red-700 transition-colors z-10" title="Remove Image" aria-label="Remove Image">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div>
                <h3 data-filename class="font-bold text-gray-800 truncate"></h3>
                <p data-fileinfo class="text-sm text-gray-500"></p>
            </div>
            <div class="space-y-3 text-sm">
                <div class="flex gap-2 items-center">
                    <select data-format-select name="targetFormat" class="flex-1 w-full p-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-[#da3f0b]">
                        <option value="jpeg">JPEG</option>
                        <option value="png">PNG</option>
                        <option value="webp">WEBP</option>
                        <option value="avif">AVIF</option>
                        <option value="gif">GIF</option>
                        <option value="bmp">BMP</option>
                    </select>
                    <div data-quality-container class="flex items-center gap-1 w-1/2">
                        <input type="range" name="quality" min="0.1" max="1" step="0.1" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#da3f0b]" />
                        <span data-quality-value class="font-mono text-xs w-8 text-right"></span>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <button data-rotate-left title="Rotate Left" class="p-2 border rounded-md hover:bg-gray-100">
                        <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M7.82843 10.9999H20V12.9999H7.82843L13.1924 18.3638L11.7782 19.778L4 11.9999L11.7782 4.22168L13.1924 5.63589L7.82843 10.9999Z"/></svg>
                    </button>
                    <button data-rotate-right title="Rotate Right" class="p-2 border rounded-md hover:bg-gray-100">
                        <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"/></svg>
                    </button>
                    <button data-flip-horizontal title="Flip Horizontal" class="p-2 border rounded-md hover:bg-gray-100">
                        <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2ZM11 15V18L7 14L11 10V13H13V10L17 14L13 18V15H11Z"/></svg>
                    </button>
                </div>
                <div class="space-y-2">
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="resize" class="w-4 h-4 rounded text-[#da3f0b] focus:ring-[#da3f0b]" />
                        <span class="font-semibold text-gray-700">Resize</span>
                    </label>
                    <div data-resize-container class="hidden flex gap-2 items-center">
                        <input type="number" name="resizeWidth" class="w-full p-2 border border-gray-300 rounded-lg" placeholder="W" aria-label="Resize width"/>
                        <span class="text-gray-400">×</span>
                        <input type="number" name="resizeHeight" class="w-full p-2 border border-gray-300 rounded-lg" placeholder="H" aria-label="Resize height"/>
                    </div>
                </div>
            </div>
        </div>
    </template>
    
<script type="module">
    // --- Access libraries from window ---
    const imageCompression = window.imageCompression;
    const saveAs = window.saveAs;

    // --- DOM Elements ---
    const dropzone = document.getElementById('dropzone');
    const dropzoneText = document.getElementById('dropzone-text');
    const dropzoneContainer = document.getElementById('dropzone-container');
    const fileInput = document.getElementById('file-input');
    const imagesSection = document.getElementById('images-section');
    const imageGrid = document.getElementById('image-grid');
    const footerControls = document.getElementById('footer-controls');
    const convertButton = document.getElementById('convert-button');
    const clearButton = document.getElementById('clear-button');
    const imageCountSpan = document.getElementById('image-count');
    const processingOverlay = document.getElementById('processing-overlay');
    const errorContainer = document.getElementById('error-container');
    const errorMessage = document.getElementById('error-message');
    const errorDismiss = document.getElementById('error-dismiss');
    const imageEditorTemplate = document.getElementById('image-editor-template');
    
    // --- Application State ---
    let images = []; // { id, file, previewUrl, width, height }
    let allSettings = {}; // { [id]: { ...settings } }
    
    const defaultSettings = {
        targetFormat: 'jpeg',
        quality: 0.8,
        resize: false,
        resizeWidth: 1920,
        resizeHeight: 1080,
        maintainAspectRatio: true,
        rotation: 0,
        flipHorizontal: false,
        removeExif: true,
    };

    // --- State Management and Rendering ---
    function render() {
        if (images.length === 0) {
            dropzoneContainer.style.display = 'flex';
            imagesSection.style.display = 'none';
            footerControls.style.display = 'none';
        } else {
            dropzoneContainer.style.display = 'none';
            imagesSection.style.display = 'flex';
            footerControls.style.display = 'flex';
        }
        
        imageCountSpan.textContent = images.length;
        imageGrid.innerHTML = ''; // Clear previous cards

        images.forEach(image => {
            const card = document.importNode(imageEditorTemplate.content, true);
            const cardElement = card.querySelector('.image-card');
            
            // Set image info
            cardElement.dataset.id = image.id;
            card.querySelector('[data-preview]').src = image.previewUrl;
            card.querySelector('[data-filename]').textContent = image.file.name.length > 25 ? `${image.file.name.substring(0, 22)}...` : image.file.name;
            card.querySelector('[data-filename]').title = image.file.name;
            card.querySelector('[data-fileinfo]').textContent = `${image.width} x ${image.height} - ${(image.file.size / 1024).toFixed(1)} KB`;
            
            // Set control values from settings
            const settings = allSettings[image.id];
            const formatSelect = card.querySelector('[data-format-select]');
            const qualityContainer = card.querySelector('[data-quality-container]');
            const qualityRange = card.querySelector('input[name="quality"]');
            const qualityValue = card.querySelector('[data-quality-value]');
            const resizeCheckbox = card.querySelector('input[name="resize"]');
            const resizeContainer = card.querySelector('[data-resize-container]');
            const resizeWidthInput = card.querySelector('input[name="resizeWidth"]');
            const resizeHeightInput = card.querySelector('input[name="resizeHeight"]');
            const flipButton = card.querySelector('[data-flip-horizontal]');
            const previewImage = card.querySelector('[data-preview]');

            formatSelect.value = settings.targetFormat;
            qualityRange.value = settings.quality;
            qualityValue.textContent = settings.quality.toFixed(1);
            resizeCheckbox.checked = settings.resize;
            resizeWidthInput.value = settings.resizeWidth;
            resizeHeightInput.value = settings.resizeHeight;
            
            updateQualitySliderVisibility(settings.targetFormat, qualityContainer);
            updateResizeInputsVisibility(settings.resize, resizeContainer);
            updateFlipButtonState(settings.flipHorizontal, flipButton);
            updateImageTransforms(previewImage, settings);

            // Add event listeners for this card
            addCardEventListeners(cardElement, image.id);
            
            imageGrid.appendChild(card);
        });
    }

    function addCardEventListeners(card, id) {
        card.querySelector('[data-remove-btn]').addEventListener('click', () => removeImage(id));
        card.querySelector('[data-rotate-left]').addEventListener('click', () => updateSetting(id, 'rotation', (allSettings[id].rotation - 90 + 360) % 360, true));
        card.querySelector('[data-rotate-right]').addEventListener('click', () => updateSetting(id, 'rotation', (allSettings[id].rotation + 90 + 360) % 360, true));
        card.querySelector('[data-flip-horizontal]').addEventListener('click', () => updateSetting(id, 'flipHorizontal', !allSettings[id].flipHorizontal, true));

        card.querySelector('[data-format-select]').addEventListener('change', e => {
            updateSetting(id, 'targetFormat', e.target.value);
            const qualityContainer = card.querySelector('[data-quality-container]');
            updateQualitySliderVisibility(e.target.value, qualityContainer);
        });

        card.querySelector('input[name="quality"]').addEventListener('input', e => {
            const value = parseFloat(e.target.value);
            updateSetting(id, 'quality', value);
            card.querySelector('[data-quality-value]').textContent = value.toFixed(1);
        });

        card.querySelector('input[name="resize"]').addEventListener('change', e => {
            updateSetting(id, 'resize', e.target.checked);
            const resizeContainer = card.querySelector('[data-resize-container]');
            updateResizeInputsVisibility(e.target.checked, resizeContainer);
        });

        card.querySelector('input[name="resizeWidth"]').addEventListener('change', e => updateSetting(id, 'resizeWidth', parseInt(e.target.value) || 0));
        card.querySelector('input[name="resizeHeight"]').addEventListener('change', e => updateSetting(id, 'resizeHeight', parseInt(e.target.value) || 0));
    }
    
    function updateSetting(id, key, value, shouldReRenderCard = false) {
        if (allSettings[id]) {
            allSettings[id][key] = value;
            if (shouldReRenderCard) {
                const card = document.querySelector(`.image-card[data-id="${id}"]`);
                if (card) {
                    const previewImage = card.querySelector('[data-preview]');
                    const flipButton = card.querySelector('[data-flip-horizontal]');
                    updateImageTransforms(previewImage, allSettings[id]);
                    updateFlipButtonState(allSettings[id].flipHorizontal, flipButton);
                }
            }
        }
    }

    // --- UI Helpers ---
    function updateQualitySliderVisibility(format, container) {
        container.style.display = ['jpeg', 'webp', 'avif'].includes(format) ? 'flex' : 'none';
    }

    function updateResizeInputsVisibility(isResizing, container) {
        container.style.display = isResizing ? 'flex' : 'none';
    }
    
    function updateFlipButtonState(isFlipped, button) {
        isFlipped ? button.classList.add('bg-orange-100', 'border-[#da3f0b]') : button.classList.remove('bg-orange-100', 'border-[#da3f0b]');
    }

    function updateImageTransforms(imgElement, settings) {
        if (imgElement) {
             imgElement.style.transform = `rotate(${settings.rotation}deg) scaleX(${settings.flipHorizontal ? -1 : 1})`;
        }
    }
    
    function showError(message) {
        errorMessage.textContent = message;
        errorContainer.style.display = 'block';
    }

    // --- Core Logic ---
    function handleFileDrop(files) {
        const imageFiles = Array.from(files).filter(file => file.type.startsWith('image/'));
        if (imageFiles.length === 0) return;

        imageFiles.forEach(file => {
            const id = `${file.name}-${Date.now()}-${Math.random()}`;
            const reader = new FileReader();
            reader.onload = (e) => {
                const img = new Image();
                img.onload = () => {
                    images.push({ id, file, previewUrl: e.target.result, width: img.width, height: img.height });
                    allSettings[id] = { ...defaultSettings, resizeWidth: img.width, resizeHeight: img.height };
                    images.sort((a,b) => a.file.name.localeCompare(b.file.name));
                    render();
                };
                img.src = e.target.result;
            };
            reader.readAsDataURL(file);
        });
    }

    function removeImage(idToRemove) {
        images = images.filter(img => img.id !== idToRemove);
        delete allSettings[idToRemove];
        render();
    }

    function resetTool() {
        images = [];
        allSettings = {};
        render();
    }

    async function convertAll() {
        if (images.length === 0) return;
        
        processingOverlay.style.display = 'flex';
        convertButton.disabled = true;

        try {
            for (const image of images) {
                const settings = allSettings[image.id];
                await processAndDownloadImage(image.file, settings, image.file.name);
            }
        } catch (err) {
            showError(err.message || 'An unexpected error occurred during conversion.');
        } finally {
            processingOverlay.style.display = 'none';
            convertButton.disabled = false;
        }
    }
    
    // --- Image Processing Service ---
    const applyTransforms = (file, rotation, flipHorizontal) => {
        return new Promise((resolve, reject) => {
            const imageUrl = URL.createObjectURL(file);
            const img = new Image();
            img.onload = () => {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                if (!ctx) {
                    URL.revokeObjectURL(imageUrl);
                    return reject(new Error('Canvas context not available'));
                }

                const isSideways = rotation === 90 || rotation === 270;
                canvas.width = isSideways ? img.height : img.width;
                canvas.height = isSideways ? img.width : img.height;

                ctx.translate(canvas.width / 2, canvas.height / 2);
                if (rotation) ctx.rotate(rotation * Math.PI / 180);
                if (flipHorizontal) ctx.scale(-1, 1);
                
                ctx.drawImage(img, -img.width / 2, -img.height / 2);
                
                canvas.toBlob((blob) => {
                    if (!blob) {
                        URL.revokeObjectURL(imageUrl);
                        return reject(new Error('Canvas toBlob failed'));
                    }
                    const newFile = new File([blob], file.name, { type: 'image/png' });
                    URL.revokeObjectURL(imageUrl);
                    resolve(newFile);
                }, 'image/png');
            };
            img.onerror = (err) => {
                URL.revokeObjectURL(imageUrl);
                reject(err);
            };
            img.src = imageUrl;
        });
    };

    const convertViaCanvas = (file, settings) => {
        return new Promise((resolve, reject) => {
            const imageUrl = URL.createObjectURL(file);
            const img = new Image();
            img.onload = () => {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                 if (!ctx) {
                    URL.revokeObjectURL(imageUrl);
                    return reject(new Error('Canvas context not available'));
                }

                let targetWidth = img.width;
                let targetHeight = img.height;

                if (settings.resize) {
                    targetWidth = settings.resizeWidth;
                    targetHeight = settings.resizeHeight;
                }

                canvas.width = targetWidth;
                canvas.height = targetHeight;
                
                ctx.drawImage(img, 0, 0, targetWidth, targetHeight);

                const mimeType = `image/${settings.targetFormat}`;
                // Pass quality only for formats that support it (jpeg, webp, avif)
                const quality = ['image/jpeg', 'image/webp', 'image/avif'].includes(mimeType) ? settings.quality : undefined;
                
                canvas.toBlob((blob) => {
                    if (!blob) {
                        URL.revokeObjectURL(imageUrl);
                        return reject(new Error(`Canvas toBlob failed for format: ${mimeType}`));
                    }
                    URL.revokeObjectURL(imageUrl);
                    resolve(blob);
                }, mimeType, quality);
            };
            img.onerror = (err) => {
                URL.revokeObjectURL(imageUrl);
                reject(err);
            };
            img.src = imageUrl;
        });
    };

    const processAndDownloadImage = async (imageFile, settings, fileName) => {
        try {
            let fileToProcess = imageFile;

            // Step 1: Apply geometric transforms (rotation, flip) if needed.
            // This outputs a new file in PNG format to preserve transparency.
            if (settings.rotation !== 0 || settings.flipHorizontal) {
                fileToProcess = await applyTransforms(fileToProcess, settings.rotation, settings.flipHorizontal);
            }

            const newFileName = `${fileName.substring(0, fileName.lastIndexOf('.')) || fileName}.${settings.targetFormat}`;
            
            // Step 2: Decide conversion strategy.
            const canvasOnlyFormats = ['bmp', 'gif', 'avif'];
            if (canvasOnlyFormats.includes(settings.targetFormat)) {
                 // For formats not supported by the compression library, use a canvas.
                 const finalBlob = await convertViaCanvas(fileToProcess, settings);
                 saveAs(finalBlob, newFileName);
            } else {
                 // For JPEG, PNG, and WEBP, use the optimized browser-image-compression library.
                const options = {
                    initialQuality: settings.quality,
                    mimeType: `image/${settings.targetFormat}`,
                    exifOrientation: settings.removeExif ? -1 : 0,
                };

                if (settings.resize) {
                    options.maxWidthOrHeight = Math.max(settings.resizeWidth, settings.resizeHeight);
                }

                const compressedFile = await imageCompression(fileToProcess, options);
                saveAs(compressedFile, newFileName);
            }

        } catch (error) {
            console.error('Image processing failed:', error);
            throw new Error(`Could not process ${fileName}. It may be an unsupported format or too large.`);
        }
    };

    // --- Event Listeners ---
    dropzone.addEventListener('click', () => fileInput.click());
    fileInput.addEventListener('change', (e) => handleFileDrop(e.target.files));

    dropzone.addEventListener('dragover', (e) => {
        e.preventDefault();
        e.stopPropagation();
        dropzone.classList.add('border-[#da3f0b]', 'bg-orange-50');
        dropzoneText.textContent = 'Drop the images here...';
    });

    dropzone.addEventListener('dragleave', (e) => {
        e.preventDefault();
        e.stopPropagation();
        dropzone.classList.remove('border-[#da3f0b]', 'bg-orange-50');
        dropzoneText.textContent = 'Drag & drop images here';
    });

    dropzone.addEventListener('drop', (e) => {
        e.preventDefault();
        e.stopPropagation();
        dropzone.classList.remove('border-[#da3f0b]', 'bg-orange-50');
        dropzoneText.textContent = 'Drag & drop images here';
        handleFileDrop(e.dataTransfer.files);
    });

    convertButton.addEventListener('click', convertAll);
    clearButton.addEventListener('click', resetTool);
    errorDismiss.addEventListener('click', () => errorContainer.style.display = 'none');

    // --- Initial Render ---
    render();
</script>








    <!-- TOOL END -->


<section class="bg-white py-12 sm:py-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="prose prose-lg max-w-none prose-h2:text-gray-800 prose-p:text-gray-700">
            <h1 class="text-4xl font-bold text-gray-900 mb-6">Your Images, Your Control: The Ultimate Offline Image Converter That Protects Your Privacy</h1>
            <p class="mb-6 leading-relaxed">
                Have you ever needed to quickly convert an image for a project but hesitated because you didn't want to upload sensitive files to some unknown server? I've been there too. As a graphic designer working with client materials, privacy isn't just a preference—it's a necessity. That's why I was thrilled to discover client-side image conversion technology that keeps everything on your device.
            </p>
            <p class="mb-6 leading-relaxed">
                In this comprehensive guide, we'll explore how our <strong>free image format converter</strong> works entirely in your browser, ensuring your files never leave your computer. You'll learn not just how to convert between popular formats like JPG, PNG, WebP, GIF, BMP, TIFF, SVG, AVIF, HEIC, and ICO, but also when to use each format for optimal results. Plus, I'll share some professional tips I've gathered over years of working with digital imagery.
            </p>
            
            <h2 class="text-2xl font-bold mt-12 mb-5">Why Your Current Image Conversion Method Might Be Risking Your Privacy</h2>
            <p class="mb-6 leading-relaxed">
                Most people don't think twice about using online image converters. You upload your file, wait for processing, and download the result. Seems harmless, right? Unfortunately, many of these services store your images on their servers, sometimes indefinitely. I once had a client whose proprietary product images ended up on a stock photo website—likely leaked through an insecure conversion tool.
            </p>
            <p class="mb-6 leading-relaxed">
                With SimpliConvert, everything happens locally on your device through advanced JavaScript processing. No sign-up, no watermarks, no hidden limits, and most importantly—no uploading. Your family photos, client work, and sensitive documents remain exactly where they should: under your control.
            </p>
            
            <h2 class="text-2xl font-bold mt-12 mb-5">Beyond Basic Conversion: Understanding Image Formats Like a Pro</h2>
            <p class="mb-6 leading-relaxed">
                Choosing the right image format isn't just about compatibility—it's about understanding the strengths and weaknesses of each file type. Let's dive deeper than the usual superficial advice:
            </p>
            
            <h3 class="text-xl font-bold mt-8 mb-4">The Workhorses: JPG and PNG</h3>
            <p class="mb-6 leading-relaxed">
                JPEG (or JPG) files use lossy compression, making them ideal for photographs where perfect accuracy isn't critical. The compression algorithm discards data your eyes are less likely to notice, creating smaller file sizes. However, each save introduces generation loss—so avoid multiple conversions.
            </p>
            <p class="mb-6 leading-relaxed">
                PNG files use lossless compression, preserving every pixel exactly as intended. They support transparency, making them perfect for logos, illustrations, and screenshots where text clarity matters. The tradeoff? Larger file sizes compared to JPG.
            </p>
            
            <h3 class="text-xl font-bold mt-8 mb-4">The Modern Contenders: WebP, AVIF, and HEIC</h3>
            <p class="mb-6 leading-relaxed">
                WebP, developed by Google, offers both lossy and lossless compression in a single format. It typically creates files 25-35% smaller than JPEGs at comparable quality, though browser support, while improving, isn't yet universal.
            </p>
            <p class="mb-6 leading-relaxed">
                AVIF is the newest format on the block, based on the AV1 video codec. It delivers exceptional compression efficiency—often 50% smaller than JPEG at similar quality. It supports HDR, wide color gamut, and transparency too.
            </p>
            <p class="mb-6 leading-relaxed">
                HEIC is Apple's preferred format for iOS devices, offering similar benefits to WebP and AVIF. While great for Apple ecosystems, compatibility with Windows and Android can require conversion.
            </p>
            
            <h3 class="text-xl font-bold mt-8 mb-4">Specialized Formats: SVG, GIF, BMP, TIFF, and ICO</h3>
            <p class="mb-6 leading-relaxed">
                SVG isn't a raster format like the others—it's vector-based, using mathematical equations to define shapes. This makes it infinitely scalable without quality loss, perfect for logos and illustrations.
            </p>
            <p class="mb-6 leading-relaxed">
                GIFs remain popular for simple animations, though their 256-color limitation makes them unsuitable for photos. BMP files are uncompressed Windows bitmaps—huge files with no quality loss. TIFF files are preferred by photographers and printers for their lossless quality and support for layers. ICO files are specifically for Windows icons, supporting multiple sizes in a single file.
            </p>
            
            <h2 class="text-2xl font-bold mt-12 mb-5">Professional Workflow Integration: When to Convert Your Images</h2>
            <p class="mb-6 leading-relaxed">
                Through trial and error working with photographers, web developers, and social media managers, I've developed some best practices for image conversion:
            </p>
            
            <h3 class="text-xl font-bold mt-8 mb-4">The Photographer's Workflow</h3>
            <p class="mb-6 leading-relaxed">
                Shoot in RAW → Edit in professional software → Export to TIFF for archiving → Convert to JPG for client delivery → Create WebP versions for web use. This preserves quality at every stage while creating appropriate files for each purpose.
            </p>
            
            <h3 class="text-xl font-bold mt-8 mb-4">The Web Developer's Approach</h3>
            <p class="mb-6 leading-relaxed">
                Modern websites should implement responsive images with multiple formats. Serve AVIF to supported browsers, WebP as a fallback, and JPG/PNG as the universal baseline. Tools like our offline converter help create these multiple versions without privacy concerns.
            </p>
            
            <h2 class="text-2xl font-bold mt-12 mb-5">Advanced Conversion Techniques for Optimal Results</h2>
            <p class="mb-6 leading-relaxed">
                Beyond simply changing formats, professional image conversion involves several considerations:
            </p>
            
            <h3 class="text-xl font-bold mt-8 mb-4">Color Profile Preservation</h3>
            <p class="mb-6 leading-relaxed">
                When converting between formats, color profiles (like sRGB, Adobe RGB, or ProPhoto RGB) can sometimes be stripped, leading to color shifts. Our converter maintains these profiles to ensure consistent color across devices and platforms.
            </p>
            
            <h3 class="text-xl font-bold mt-8 mb-4">Metadata Handling</h3>
            <p class="mb-6 leading-relaxed">
                EXIF data containing camera settings, GPS locations, and copyright information can be important to preserve. Our tool gives you options to keep or remove this data as needed—particularly useful for privacy-conscious users who don't want to accidentally share location data.
            </p>
            
            <h2 class="text-2xl font-bold mt-12 mb-5">Common Image Conversion Mistakes Even Professionals Make</h2>
            <p class="mb-6 leading-relaxed">
                After years of working with digital images, I've seen these errors repeatedly:
            </p>
            <ul class="list-disc pl-5 mb-6 space-y-2">
                <li class="leading-relaxed"><strong>Converting JPEG to JPEG multiple times:</strong> Each save introduces additional compression artifacts. Instead, always work from the original source file.</li>
                <li class="leading-relaxed"><strong>Using PNG for photographs:</strong> The file sizes become enormous with minimal quality benefit over high-quality JPEGs.</li>
                <li class="leading-relaxed"><strong>Forgetting to optimize for web:</strong> Images straight from cameras are often much larger than needed for websites, slowing page load times.</li>
                <li class="leading-relaxed"><strong>Ignoring transparency needs:</strong> Converting from PNG to JPG without considering transparent backgrounds results in unwanted black or white boxes.</li>
            </ul>
            
            <h2 class="text-2xl font-bold mt-12 mb-5">Pro Tip: The Secret to Perfect Image Sizing</h2>
            <p class="mb-6 leading-relaxed">
                Here's a little trick I've learned: always resize images before changing format. If you need an image for web use, first resize it to the exact dimensions needed (rarely more than 2000 pixels on the longest side for most websites), then apply format-specific compression. This two-step process produces significantly better results than trying to do both at once.
            </p>
            
            <h2 class="text-2xl font-bold mt-12 mb-5">The Future of Image Formats: What's Coming Next</h2>
            <p class="mb-6 leading-relaxed">
                The evolution of image formats continues at a rapid pace. JPEG XL promises even better compression with backward compatibility features. AVIF support continues to expand across platforms. As these formats mature, our converter will adapt to support them—always with the same privacy-first approach.
            </p>
            
            <h2 class="text-2xl font-bold mt-12 mb-5">Why We Built This Tool: A Personal Story</h2>
            <p class="mb-6 leading-relaxed">
                I created the first version of this converter after a frustrating experience trying to prepare images for a client website while traveling with unreliable internet. The hotel Wi-Fi couldn't handle uploading large TIFF files to online converters, and I worried about sending unpublished product images through unsecured services. That's when I discovered the powerful JavaScript libraries that make client-side conversion possible.
            </p>
            <p class="mb-6 leading-relaxed">
                After sharing the tool with colleagues, I realized how many others faced similar challenges—photographers protecting their work, healthcare professionals dealing with sensitive documents, real estate agents preparing listing photos, and everyday users who simply value their privacy. That initial solution has now evolved into the robust SimpliConvert tool you see today.
            </p>
            
            <div class="bg-blue-50 p-6 rounded-lg mt-10 mb-10">
                <h3 class="text-xl font-bold text-blue-800 mb-3">Key Takeaways:</h3>
                <ul class="list-disc pl-5 space-y-2">
                    <li class="leading-relaxed">Client-side conversion ensures your images never leave your device</li>
                    <li class="leading-relaxed">Different image formats serve different purposes—choose wisely</li>
                    <li class="leading-relaxed">Always work from original files when possible to avoid generation loss</li>
                    <li class="leading-relaxed">Resize before applying format-specific compression for best results</li>
                    <li class="leading-relaxed">Modern formats like WebP and AVIF offer significant file size savings</li>
                </ul>
            </div>
            
            <p class="mb-6 leading-relaxed">
                Whether you're a professional photographer, web developer, or someone who occasionally needs to convert images, having a reliable, private tool at your fingertips changes how you work. No more worrying about upload speeds, data caps, or privacy concerns. Just pure, instant conversion exactly when you need it.
            </p>
            <p class="mb-6 leading-relaxed">
                What surprising image conversion challenges have you faced in your work? I'd love to hear about your experiences and questions in the comments below!
            </p>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="bg-gray-50 py-12 sm:py-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-3xl font-bold text-center text-gray-900 mb-10">Frequently Asked Questions About Offline Image Conversion</h2>
        <div class="space-y-4">
            <!-- FAQ 1 -->
            <div class="bg-white rounded-lg shadow-sm">
                <button data-faq-toggle class="w-full flex justify-between items-center text-left p-5 font-semibold text-gray-800 hover:bg-gray-100 rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-primary">
                    <span>Does this image converter work completely offline?</span>
                    <svg class="faq-icon w-5 h-5 transform transition-transform duration-300 -rotate-90" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <div class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                    <p class="p-5 pt-0 text-gray-600">
                        Absolutely! Our converter uses advanced client-side JavaScript and open-source libraries to process everything directly in your browser. After the initial page load, you can even disconnect from the internet and still convert images. This architecture ensures your files never leave your device, providing complete privacy and security—perfect for working with sensitive images or when you're in areas with unreliable internet connections.
                    </p>
                </div>
            </div>
            
            <!-- FAQ 2 -->
            <div class="bg-white rounded-lg shadow-sm">
                <button data-faq-toggle class="w-full flex justify-between items-center text-left p-5 font-semibold text-gray-800 hover:bg-gray-100 rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-primary">
                    <span>Which image formats can I convert between?</span>
                    <svg class="faq-icon w-5 h-5 transform transition-transform duration-300 -rotate-90" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <div class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                    <p class="p-5 pt-0 text-gray-600">
                        Our tool supports a comprehensive range of popular and specialized formats: JPG, PNG, WebP, GIF, BMP, TIFF, SVG, AVIF, HEIC, and ICO. This covers nearly every use case, from web graphics (WebP, PNG) to photography (JPG, TIFF) to Apple device images (HEIC) and Windows icons (ICO). We're continuously monitoring emerging formats and will add support for new ones as they gain adoption, ensuring our tool remains relevant as the digital landscape evolves.
                    </p>
                </div>
            </div>
            
            <!-- FAQ 3 -->
            <div class="bg-white rounded-lg shadow-sm">
                <button data-faq-toggle class="w-full flex justify-between items-center text-left p-5 font-semibold text-gray-800 hover:bg-gray-100 rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-primary">
                    <span>Is there a limit to the file size I can convert?</span>
                    <svg class="faq-icon w-5 h-5 transform transition-transform duration-300 -rotate-90" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <div class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                    <p class="p-5 pt-0 text-gray-600">
                        Since the conversion happens entirely in your browser using your device's processing power, the only limitations are your device's available memory and processing capability. Unlike online services that impose arbitrary file size limits to manage server loads, our tool can handle whatever your computer can process. That said, extremely large files (like multi-gigabyte TIFFs) might slow down older devices, but we've successfully tested with files over 500MB on modern computers without issues.
                    </p>
                </div>
            </div>
            
            <!-- FAQ 4 -->
            <div class="bg-white rounded-lg shadow-sm">
                <button data-faq-toggle class="w-full flex justify-between items-center text-left p-5 font-semibold text-gray-800 hover:bg-gray-100 rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-primary">
                    <span>Will converting reduce my image quality?</span>
                    <svg class="faq-icon w-5 h-5 transform transition-transform duration-300 -rotate-90" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <div class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                    <p class="p-5 pt-0 text-gray-600">
                        This depends on the formats you're converting between and your quality settings. When converting between lossless formats (like PNG to TIFF), quality remains perfectly intact. When converting to lossy formats like JPG or WebP, you have full control over the compression level—you can choose maximum quality with minimal compression or aggressive compression for smaller file sizes. We provide preview options so you can visually compare the results before saving, ensuring you're always happy with the output quality. For professional use, we recommend always keeping an original copy of your images in case you need to reconvert with different settings later.
                    </p>
                </div>
            </div>
            
            <!-- FAQ 5 -->
            <div class="bg-white rounded-lg shadow-sm">
                <button data-faq-toggle class="w-full flex justify-between items-center text-left p-5 font-semibold text-gray-800 hover:bg-gray-100 rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-primary">
                    <span>Can I batch convert multiple images at once?</span>
                    <svg class="faq-icon w-5 h-5 transform transition-transform duration-300 -rotate-90" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <div class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                    <p class="p-5 pt-0 text-gray-600">
                        Currently, our converter processes images one at a time to ensure optimal performance on all devices. While we don't offer traditional batch processing, you can quickly convert multiple images in sequence without reloading the page. This approach prevents browser memory issues that can occur when processing many large files simultaneously. For converting entire folders of images, we recommend dedicated desktop software, but for quick conversions of several images, our tool provides a perfect balance of speed and reliability.
                    </p>
                </div>
            </div>
            
            <!-- FAQ 6 -->
            <div class="bg-white rounded-lg shadow-sm">
                <button data-faq-toggle class="w-full flex justify-between items-center text-left p-5 font-semibold text-gray-800 hover:bg-gray-100 rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-primary">
                    <span>Does the converter preserve metadata like EXIF data?</span>
                    <svg class="faq-icon w-5 h-5 transform transition-transform duration-300 -rotate-90" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <div class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                    <p class="p-5 pt-0 text-gray-600">
                        Yes, we understand that metadata can be crucial for photographers and professionals. Our converter preserves EXIF data, including camera settings, copyright information, and GPS coordinates (when present) by default. However, we also include an option to strip metadata for users who prioritize privacy or want to reduce file sizes further. This is particularly useful if you're sharing images online and don't want to accidentally reveal location data or other sensitive information embedded in your photos.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

 <!-- Footer Placeholder -->
    <div id="footer"></div>

    <script>
    function initializeHeaderScripts() {
        // Header Scroll Effect
        const header = document.getElementById('header');
        if (header) {
            window.addEventListener('scroll', () => {
                if (window.scrollY > 10) {
                    header.classList.add('scrolled-effect');
                } else {
                    header.classList.remove('scrolled-effect');
                }
            });
        }

        // Mobile Menu Toggle (supports both icon sets)
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const menuIconBars = document.getElementById('menu-icon-bars');
        const menuIconTimes = document.getElementById('menu-icon-times');
        const mobileMenuIconOpen = document.getElementById('mobile-menu-icon-open');
        const mobileMenuIconClose = document.getElementById('mobile-menu-icon-close');
        
        if (mobileMenuButton && mobileMenu) {
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('open');
                
                if (menuIconBars && menuIconTimes) {
                    menuIconBars.classList.toggle('hidden');
                    menuIconTimes.classList.toggle('hidden');
                }
                if (mobileMenuIconOpen && mobileMenuIconClose) {
                    mobileMenuIconOpen.classList.toggle('hidden');
                    mobileMenuIconClose.classList.toggle('hidden');
                }
            });
        }

        // Mobile Accordion Toggle
        const accordionButton = document.querySelector('.accordion-button');
        const accordionContent = document.querySelector('.accordion-content');
        
        if (accordionButton && accordionContent) {
            accordionButton.addEventListener('click', () => {
                accordionButton.classList.toggle('open');
                accordionContent.classList.toggle('open');
            });
        }
    }
    
    function initializeFooterScripts() {
        // Set Current Year in Footer
        const yearSpan = document.getElementById('current-year');
        if(yearSpan) {
            yearSpan.textContent = new Date().getFullYear();
        }
    }

    async function loadComponent(url, elementId, callback) {
        try {
            const response = await fetch(url);
            if (!response.ok) {
                throw new Error(`Failed to load component from ${url}. Status: ${response.status}`);
            }
            const text = await response.text();
            const element = document.getElementById(elementId);
            if (element) {
                element.innerHTML = text;
                if (callback) {
                    callback();
                }
            } else {
                console.error(`Element with id '${elementId}' not found.`);
            }
        } catch (error) {
            console.error('Error loading component:', error);
            const element = document.getElementById(elementId);
            if(element) element.innerHTML = `<p class="text-center text-red-500">Error: Could not load component.</p>`;
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        // Load Header and Footer components
        loadComponent('/components/navbar.html', 'navbar', initializeHeaderScripts);
        loadComponent('/components/footer.html', 'footer', initializeFooterScripts);
        
        // Smooth scrolling for anchor links
        document.addEventListener('click', function (e) {
            const anchor = e.target.closest('a[href^="#"]');
            if (!anchor) return;

            const href = anchor.getAttribute('href');
            if (href === '#' || href === "") return;

            e.preventDefault();
            
            const targetElement = document.querySelector(href);
            if (targetElement) {
                const header = document.getElementById('header');
                const headerOffset = header ? header.offsetHeight : 80; // Default offset if header not yet loaded
                const elementPosition = targetElement.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
            
                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });

                // Close mobile menu if open after clicking a link
                const mobileMenu = document.getElementById('mobile-menu');
                if (mobileMenu && mobileMenu.classList.contains('open')) {
                    const mobileMenuButton = document.getElementById('mobile-menu-button');
                    if(mobileMenuButton) mobileMenuButton.click();
                }
            }
        });

        // FAQ Accordion Logic
        const faqToggles = document.querySelectorAll('[data-faq-toggle]');
        faqToggles.forEach(button => {
            button.addEventListener('click', () => {
                const answer = button.nextElementSibling;
                const icon = button.querySelector('.faq-icon');
                const isOpening = !answer.style.maxHeight;

                // Close all other open FAQs
                faqToggles.forEach(otherButton => {
                    if (otherButton !== button) {
                        otherButton.nextElementSibling.style.maxHeight = null;
                        otherButton.querySelector('.faq-icon').classList.remove('rotate-90');
                        otherButton.querySelector('.faq-icon').classList.add('-rotate-90');
                    }
                });

                // Toggle the clicked FAQ
                if (isOpening) {
                    answer.style.maxHeight = answer.scrollHeight + "px";
                    icon.classList.remove('-rotate-90');
                    icon.classList.add('rotate-90');
                } else {
                    answer.style.maxHeight = null;
                    icon.classList.remove('rotate-90');
                    icon.classList.add('-rotate-90');
                }
            });
        });
    });
</script>















    
</body>

</html>
